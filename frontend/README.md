# Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## About the App

### Important Concepts
1. The Flow Model (React-Flow)
2. ConcentrationManager
3. Requests 
4. Routing
5. Users

#### 

### Folder Structure
```bash
.
├── build
│   └── static
│       ├── css
│       ├── js
│       └── media
├── node_modules
├── docs
│   ├── fonts
│   ├── scripts
│   │   └── prettify
│   └── styles
└── src
    ├── components
    │   ├── customNodes
    │   ├── modals
    │   ├── pages
    │   └── utils
    ├── icons
    ├── images
    │   └── glycolysis
    ├── localStoreAccess
    ├── requestLib
    │   ├── actions
    │   └── loaders
    └── scss
```
**NOTE:** Components, localStoreAccess, and requestLib will have additional README's which go into more depth

### What Each of the Folders Do
- build/* - a static compiled build of the project, can be created/updated via *npm run build*. **Don't push this to github**.
- docs/* - autogenerated documentation by jsdoc, can be created/updated through *npm run docs*
- node_modules - created by npm to store dependancy files. **Don't push this to github**. It should by only stored locally, npm will take care of installing the required packages for you if you dont have them already.
- src/* - Our source code

### Quick Rundown of src Folder
- components/* - Where all of our React components are stored.
- icons/* - Storage for static icon .png's
- images/* - Storage for static pictures, includes pictures of biochem pathways.
- localStoreAccess/* - Contains files which have helper functions for storing information locally. This is largely used for publicly accessable user info.
- requestLib/* - All of the apps request functions are stored here. **You should not make a fetch call anywhere outside this folder.**
- scss/* - Contains all of our scss stylesheets
- App.js - The root react element
- UserContext - defines a useContext hook for the currently signed in user. Changes to this context will propogate throughout the app.

### Enviornment Variables
Our frontend, as of right now, uses two enviornment variables.
1. REACT_APP_BACKEND_LOCATION: defines where the frontend can expect the backend will be. Options are:
    - remote 
    - local - defaults to    
2. NODE_ENV: **This is supplied by node**, you shouldn't set it on your own. Defines whether your build is in which mode. Note that when you run *npm run build*, the compiled build's NODE_ENV will automatically be set to production.
    - development 
    - production
    - test

## How to Develop
Our React app can be interacted with in a multitude of ways within a development setting. 
- npm tools 

    From the frontend root run:
    
        npm start
- docker
- docker-compose 

    This will run the entire stack, including a local backend and database.

    from project root run:

        docker-compose build

        docker-compose up -d

    To take it down run:

        docker-compose down

The frontend can also target different backends. **NOTE:** the way we have it set up, without specifying backend location, it will target local by default.

**Recommended:** Within the root of the project directory, there are scripts:
- run.py
- run_frontend_local.py

    These scripts are **NOT** mandatory but they allow you to very simply set things up and will handle importing env vars. **You should** run the frontend through NPM though, having your changes be reflected in real time is very helpful.

## Deployment of the Frontend
Go to AWS directory README for more info on deployment of the app. Specifically for the frontend, the main thing to note is that because django is capable of serving web traffic, it makes more sense cost-wise to make a compiled build of the frontend into the backend where it can be accessed by it. To update this build in the backend use file *buildfrontend.sh*. 

## Tooling
We have created basic tooling scripts for running the frontend. This is fully explained in the project root README as well as the recommended section in `How to Develop`.

## Available Standard Scripts Provided By NPM

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in your browser.

The page will reload when you make changes.\
You may also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.\
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run build`

Builds the app for production to the `build` folder.\
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.\
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.
