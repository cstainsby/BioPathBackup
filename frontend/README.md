# Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## About the App

### Important Concepts
1. The Flow Model (React-Flow)
2. ConcentrationManager
3. Requests 
4. Routing
5. Users

#### 

### Folder Structure
```bash
.
├── build
│   └── static
│       ├── css
│       ├── js
│       └── media
├── node_modules
├── docs
│   ├── fonts
│   ├── scripts
│   │   └── prettify
│   └── styles
└── src
    ├── components
    │   ├── customNodes
    │   ├── modals
    │   ├── pages
    │   └── utils
    ├── icons
    ├── images
    │   └── glycolysis
    ├── localStoreAccess
    ├── requestLib
    │   ├── actions
    │   └── loaders
    └── scss
```
**NOTE:** Components, localStoreAccess, and requestLib will have additional README's which go into more depth

### What Each of the Folders Do
- build/* - a static compiled build of the project, can be created/updated via *npm run build*. **Don't push this to github**.
- docs/* - autogenerated documentation by jsdoc, can be created/updated through *npm run docs*
- node_modules - created by npm to store dependancy files. **Don't push this to github**. It should by only stored locally, npm will take care of installing the required packages for you if you dont have them already.
- src/* - Our source code

### Quick Rundown of src Folder
- components/* - Where all of our React components are stored.
- icons/* - Storage for static icon .png's
- images/* - Storage for static pictures, includes pictures of biochem pathways.
- localStoreAccess/* - Contains files which have helper functions for storing information locally. This is largely used for publicly accessable user info.
- requestLib/* - All of the apps request functions are stored here. **You should not make a fetch call anywhere outside this folder.**
- scss/* - Contains all of our scss stylesheets
- App.js - The root react element
- UserContext - defines a useContext hook for the currently signed in user. Changes to this context will propogate throughout the app.
- A README that goes into more detail can be found in the frontend/src folder

### Enviornment Variables
Our frontend, as of right now, uses two enviornment variables.
1. REACT_APP_BACKEND_LOCATION: defines where the frontend can expect the backend will be. Options are:
    - remote 
    - local - defaults to    
2. NODE_ENV: **This is supplied by node**, you shouldn't set it on your own. Defines whether your build is in which mode. Note that when you run *npm run build*, the compiled build's NODE_ENV will automatically be set to production.
    - development 
    - production
    - test

## How to Develop
If you want to develop on a locally running version of the backend. If you want to target a locally running backend run from the frontend root:
    
        npm run start-local

If you want to target a remotely running backend.

        npm run start-remote

You can also run a statically built version of the frontend which will run from a local backend using:


        ./build.sh local_backend
        docker-compose build
        docker-compose up -d 


**NOTE:** the way we have it set up, without specifying backend location, it will target local by default. More info in root README.md.



## Deployment of the Frontend
Go to AWS directory README for more info on deployment of the app. Specifically for the frontend, the main thing to note is that because django is capable of serving web traffic, it makes more sense cost-wise to make a compiled build of the frontend into the backend where it can be accessed by it. To update this build in the backend use:

        ./build.sh remote_backend
